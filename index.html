<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="manifest" href="manifest.webmanifest">
  <title>Charlotte Christian â€” Game Manager</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main>
    <header class="appbar">
      <div class="brand">
        <div class="brand-mark">CC</div>
        <div class="brand-text">
          <div class="brand-title">Charlotte Christian</div>
          <div class="brand-sub">Game Manager</div>
        </div>
      </div>
      <button id="resetGame" class="btn btn-ghost">Reset Game</button>
    </header>

    <div id="banner"></div>

    <div class="layout">
      <!-- SCOREBOARD -->
      <section class="card area-score">
        <h2 class="section-title">Scoreboard</h2>

        <!-- Opponent profile / theme -->
        <div class="row compact">
          <label>Opponent</label>
          <input id="oppName" type="text" value="Opponent" />
          <div class="color-pick">
            <span class="muted">Color</span>
            <input id="oppColor" type="color" value="#9a9a9a" />
          </div>
        </div>

        <div class="score-grid">
          <div class="score-card">
            <div class="score-label"><span id="ourLabel">Charlotte Christian</span></div>
            <input id="ourScore" type="number" inputmode="numeric" value="0" class="score-input" />
            <div class="quick-row">
              <button class="chip" data-team="our" data-delta="2">+2</button>
              <button class="chip" data-team="our" data-delta="3">+3</button>
              <button class="chip" data-team="our" data-delta="6">+6</button>
              <button class="chip" data-team="our" data-delta="7">+7</button>
              <button class="chip" data-team="our" data-delta="8">+8</button>
            </div>
          </div>
          <div class="score-card">
            <div class="score-label"><span id="oppLabel">Opponent</span></div>
            <input id="oppScore" type="number" inputmode="numeric" value="0" class="score-input" />
            <div class="quick-row">
              <button class="chip opp" data-team="opp" data-delta="2">+2</button>
              <button class="chip opp" data-team="opp" data-delta="3">+3</button>
              <button class="chip opp" data-team="opp" data-delta="6">+6</button>
              <button class="chip opp" data-team="opp" data-delta="7">+7</button>
              <button class="chip opp" data-team="opp" data-delta="8">+8</button>
            </div>
          </div>
        </div>

        <div class="row toggles compact">
          <label><input id="who-auto" name="who" type="radio" checked> Auto</label>
          <label><input id="who-us"   name="who" type="radio"> Charlotte Christian needs</label>
          <label><input id="who-opp"  name="who" type="radio"> Opponent needs</label>
        </div>

        <!-- PAT vs 2-pt helper -->
        <div class="card-sub">
          <div class="row compact">
            <label>PAT vs 2-pt</label>
            <div class="pct-wrap">
              <span class="muted">XP%</span><input id="xpPct" type="number" min="0" max="100" value="95">
              <span class="muted">2-pt%</span><input id="twoPct" type="number" min="0" max="100" value="45">
            </div>
          </div>
          <div id="patAdvice" class="muted"></div>
        </div>

        <div class="row compact">
          <label>Max results</label>
          <input id="cap" type="number" inputmode="numeric" value="200" />
        </div>

        <div class="row toggles compact">
          <label><input id="view-table" type="radio" name="view" checked> Table</label>
          <label><input id="view-row"   type="radio" name="view"> One Row</label>
        </div>

        <button id="calc" class="btn btn-primary">Calculate</button>
        <p id="status" class="muted"></p>
      </section>

      <!-- CLOCK + TIMEOUTS -->
      <section class="card area-clock">
        <div class="section-head">
          <h2 class="section-title">Game Clock & Timeouts</h2>
        </div>

        <div class="row toggles compact">
          <label><input type="radio" name="half" id="half1" checked> 1st Half</label>
          <label><input type="radio" name="half" id="half2"> 2nd Half</label>
        </div>

        <div class="row time-row">
          <label>Time left</label>
          <div class="time-manual">
            <input id="timeInput" type="text" inputmode="numeric" placeholder="mm:ss" value="24:00" />
          </div>
          <div class="tinyBtns">
            <button class="mini" data-dt="-10">-10s</button>
            <button class="mini" data-dt="+10">+10s</button>
          </div>
        </div>

        <!-- Voice control -->
        <div class="row compact">
          <label>Voice</label>
          <div class="voice-wrap">
            <button id="micBtn" class="btn btn-primary mic">
              <span id="micIcon">ðŸŽ¤</span><span id="micText">Start</span>
            </button>
            <span id="micStatus" class="muted"></span>
          </div>
        </div>

        <div class="grid2">
          <div class="to-card">
            <div class="to-title">Charlotte Christian TOs â€” 1st</div>
            <div class="to-checks" id="group-our-h1" data-key="our-h1">
              <label><input type="checkbox" checked><span>TO</span></label>
              <label><input type="checkbox" checked><span>TO</span></label>
              <label><input type="checkbox" checked><span>TO</span></label>
            </div>
          </div>
          <div class="to-card">
            <div class="to-title">Opponent TOs â€” 1st</div>
            <div class="to-checks" id="group-opp-h1" data-key="opp-h1">
              <label><input type="checkbox" checked><span>TO</span></label>
              <label><input type="checkbox" checked><span>TO</span></label>
              <label><input type="checkbox" checked><span>TO</span></label>
            </div>
          </div>
          <div class="to-card">
            <div class="to-title">Charlotte Christian TOs â€” 2nd</div>
            <div class="to-checks" id="group-our-h2" data-key="our-h2">
              <label><input type="checkbox" checked><span>TO</span></label>
              <label><input type="checkbox" checked><span>TO</span></label>
              <label><input type="checkbox" checked><span>TO</span></label>
            </div>
          </div>
          <div class="to-card">
            <div class="to-title">Opponent TOs â€” 2nd</div>
            <div class="to-checks" id="group-opp-h2" data-key="opp-h2">
              <label><input type="checkbox" checked><span>TO</span></label>
              <label><input type="checkbox" checked><span>TO</span></label>
              <label><input type="checkbox" checked><span>TO</span></label>
            </div>
          </div>
        </div>

        <div class="tinyBtns">
          <button id="useOurTO" class="mini">Use CC TO (current half)</button>
          <button id="useOppTO" class="mini opp">Use Opp TO (current half)</button>
        </div>

        <div class="subhead">Clock Helper</div>
        <div class="row toggles compact">
          <label><input type="radio" name="ball" id="ballUs" checked> Charlotte Christian has ball</label>
          <label><input type="radio" name="ball" id="ballThem"> Opponent has ball</label>
        </div>
        <div class="row compact">
          <label>Snaps this series</label>
          <input id="snaps" type="number" min="1" max="4" value="3" />
        </div>
        <div class="row compact">
          <label>Play clock</label>
          <input id="playClock" type="number" min="20" max="45" value="40" />
        </div>
        <div class="row compact">
          <label>Avg play time</label>
          <input id="playTime" type="number" min="1" max="15" value="6" />
        </div>
        <div id="clockResult" class="muted"></div>
      </section>

      <!-- OUTPUT -->
      <section id="output" class="area-output"></section>

      <!-- GAME LOG -->
      <section class="card area-log">
        <h2 class="section-title">Game Log</h2>
        <div class="log-controls">
          <button id="undoLog" class="btn btn-ghost">Undo last</button>
          <button id="clearLog" class="btn btn-ghost">Clear</button>
          <button id="exportLog" class="btn btn-ghost">Export CSV</button>
        </div>
        <div id="logList" class="log-list"></div>
      </section>
    </div>
  </main>

  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) { navigator.serviceWorker.register('./sw.js'); }
  </script>
</body>
</html>
