<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="manifest" href="manifest.webmanifest">
  <title>Charlotte Christian — Game Manager</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main>
<header class="appbar">
  <img src="black_script.png" class="app-logo" alt="CC logo">
  <div class="app-title">CHARLOTTE CHRISTIAN FOOTBALL GAME MANAGER</div>
  <img src="black_script.png" class="app-logo" alt="Knight logo">
</header>

<div class="toolbar">
  <button id="resetGame" class="btn btn-ghost">Reset Game</button>
</div>

    <div class="layout">
      <section class="card area-score">
        <h2 class="section-title">Scoreboard</h2>

        <div class="row compact">
          <label>Opponent</label>
          <input id="oppName" type="text" value="Opponent" autocomplete="off" />
          <div class="color-pick">
            <label for="oppColor" class="muted">Color</label>
            <input id="oppColor" type="color" value="#9a9a9a" />
          </div>
        </div>

        <div class="score-grid">
          <div class="score-card">
            <div class="score-label"><span id="ourLabel">Charlotte Christian</span></div>
            <input id="ourScore" type="number" inputmode="numeric" pattern="[0-9]*" value="0" class="score-input" autocomplete="off" />
            <div class="quick-row">
              <button class="chip" data-team="our" data-delta="2">+2</button>
              <button class="chip" data-team="our" data-delta="3">+3</button>
              <button class="chip" data-team="our" data-delta="6">+6</button>
              <button class="chip" data-team="our" data-delta="7">+7</button>
              <button class="chip" data-team="our" data-delta="8">+8</button>
            </div>
          </div>
          <div class="score-card">
            <div class="score-label"><span id="oppLabel">Opponent</span></div>
            <input id="oppScore" type="number" inputmode="numeric" pattern="[0-9]*" value="0" class="score-input" autocomplete="off" />
            <div class="quick-row">
              <button class="chip opp" data-team="opp" data-delta="2">+2</button>
              <button class="chip opp" data-team="opp" data-delta="3">+3</button>
              <button class="chip opp" data-team="opp" data-delta="6">+6</button>
              <button class="chip opp" data-team="opp" data-delta="7">+7</button>
              <button class="chip opp" data-team="opp" data-delta="8">+8</button>
            </div>
          </div>
        </div>

          <div class="timeouts-bar" aria-live="polite">
              <div class="side left">
                <strong>Charlotte Christian TO LEFT:</strong> <span id="ourTOLeft">3</span>
              </div>
              <div class="side right">
                <strong><span id="oppTOName">Opponent</span> TO LEFT:</strong> <span id="oppTOLeft">3</span>
              </div>
            
              <div class="tinyBtns to-quick">
                <button id="useOurTO" class="mini">Use CC TO (current half)</button>
                <button id="useOppTO" class="mini opp">Use Opp TO (current half)</button>
              </div>
            </div>


        <div id="banner"></div>
        <!-- TO summary + quick-use buttons (moved here) -->



<!-- Game Settings (collapsible) -->
<details class="panel" id="gameSettings">
  <summary>Game Settings</summary>

  <!-- A) View: Table / One Row -->
  <div class="row toggles compact">
    <label><input id="view-table" type="radio" name="view" checked> Table</label>
    <label><input id="view-row"   type="radio" name="view"> One Row</label>
  </div>

  <!-- B) Opening Kickoff -->
  <div class="row toggles compact kickoff-row">
    <label><input id="weReceivedKO" type="radio" name="openingKO" value="we"> We received the opening kickoff</label>
    <label><input id="oppReceivedKO" type="radio" name="openingKO" value="opp">
      <span id="oppNameInline">Opponent</span> received the opening kickoff
    </label>
  </div>

  <!-- C) Officials (inputs) -->
  <div class="subhead">Officials</div>
  <div class="row compact">
    <label class="w-30">Head Ref</label>
    <input id="headRef" type="text" placeholder="Enter head ref name" autocomplete="off" />
  </div>
  <div class="row compact">
    <label class="w-30">Side Judge (our sideline)</label>
    <input id="sideJudge" type="text" placeholder="Enter side judge name" autocomplete="off" />
  </div>
</details>

<!-- Always-visible info under the panel -->
<div class="sticky-officials" id="stickyOfficials">
  <div id="secondHalfInfo" class="muted tiny-info">2nd-half kickoff: —</div>

  <div class="officials-display" id="officialsDisplay" style="display:none">
    <div class="official-name" id="headRefDisplay"></div>
    <div class="official-name" id="sideJudgeDisplay"></div>
    <!-- removed the duplicate secondHalfInfo here -->
  </div>

  <button type="button" id="clearOfficials" class="link-btn small">Clear officials</button>
</div>





        <p id="status" class="muted"></p>
      </section>

      <section class="card area-clock">
        <div class="section-head">
          <h2 class="section-title">Game Clock & Timeouts</h2>
        </div>

        <div class="row toggles compact">
          <label><input type="radio" name="half" id="half1" checked> 1st Half</label>
          <label><input type="radio" name="half" id="half2"> 2nd Half</label>
        </div>

        <div class="row time-row">
          <label>Time left</label>
          <div class="time-manual">
            <input id="timeInput" type="tel" inputmode="numeric" pattern="[0-9:]*" placeholder="mm:ss" value="12:00" autocomplete="off" />
          </div>
          <div class="tinyBtns">
            <button class="mini" data-dt="-10">-10s</button>
            <button class="mini" data-dt="+10">+10s</button>
          </div>
        </div>

        <div class="grid2">
          <div class="to-card" data-key="our-h1">
            <div class="to-title">
              <span>Charlotte Christian TOs — 1st</span>
              <button class="toggle-arrow" aria-label="Toggle timeouts"></button>
            </div>
            <div class="to-content">
              <div class="to-checks" id="group-our-h1">
                <label><input type="checkbox" checked><span>TO</span></label>
                <label><input type="checkbox" checked><span>TO</span></label>
                <label><input type="checkbox" checked><span>TO</span></label>
              </div>
            </div>
          </div>
          <div class="to-card" data-key="opp-h1">
            <div class="to-title">
              <span>Opponent TOs — 1st</span>
              <button class="toggle-arrow" aria-label="Toggle timeouts"></button>
            </div>
            <div class="to-content">
              <div class="to-checks" id="group-opp-h1">
                <label><input type="checkbox" checked><span>TO</span></label>
                <label><input type="checkbox" checked><span>TO</span></label>
                <label><input type="checkbox" checked><span>TO</span></label>
              </div>
            </div>
          </div>
          <div class="to-card" data-key="our-h2">
            <div class="to-title">
              <span>Charlotte Christian TOs — 2nd</span>
              <button class="toggle-arrow" aria-label="Toggle timeouts"></button>
            </div>
            <div class="to-content">
              <div class="to-checks" id="group-our-h2">
                <label><input type="checkbox" checked><span>TO</span></label>
                <label><input type="checkbox" checked><span>TO</span></label>
                <label><input type="checkbox" checked><span>TO</span></label>
              </div>
            </div>
          </div>
          <div class="to-card" data-key="opp-h2">
            <div class="to-title">
              <span>Opponent TOs — 2nd</span>
              <button class="toggle-arrow" aria-label="Toggle timeouts"></button>
            </div>
            <div class="to-content">
              <div class="to-checks" id="group-opp-h2">
                <label><input type="checkbox" checked><span>TO</span></label>
                <label><input type="checkbox" checked><span>TO</span></label>
                <label><input type="checkbox" checked><span>TO</span></label>
              </div>
            </div>
          </div>
        </div>

        <!-- Possession (moved ABOVE Clock Helper) -->
<div class="row toggles compact" id="possessionRow">
  <label><input type="radio" name="ball" id="ballUs" checked> Charlotte Christian has ball</label>
  <label><input type="radio" name="ball" id="ballThem">
    <span id="ballThemName">Opponent</span> has ball
  </label>
</div>

<!-- Collapsible Clock Helper (default collapsed) -->
<details class="panel" id="clockPanel">
  <summary>Clock Helper</summary>

  <div class="row compact">
    <label>Snaps this series</label>
    <input id="snaps" type="number" min="1" max="4" value="3" autocomplete="off" />
  </div>

  <div class="row compact">
    <label>Play clock</label>
    <input id="playClock" type="number" min="20" max="45" value="40" autocomplete="off" />
  </div>

  <div class="row compact">
    <label>Avg play time</label>
    <input id="playTime" type="number" min="1" max="15" value="6" autocomplete="off" />
  </div>
</details>

<!-- Keep the result visible even when collapsed -->
<div id="clockResult" class="muted"></div> 
    <!-- 2-Point Decision (after TD) -->
<div id="twoPtBox" class="two-pt card-lite">
  <div class="two-pt-head">2-Point Decision (after TD)</div>
   <div id="twoPtMath" class="two-pt-math"></div> <!-- NEW -->

  <div class="two-pt-controls">
    <label>XP% <input id="xpRate" type="number" min="0" max="100" step="1" value="48"></label>
    <label>2-pt% <input id="twoPtRate" type="number" min="0" max="100" step="1" value="45"></label>
    <button id="recalcTwoPt" class="mini">Update</button>
  </div>

  <div id="twoPtResult" class="two-pt-result">—</div>

  <details class="two-pt-notes">
    <summary>Key chart notes</summary>
    <ul class="two-pt-list">
      <li>Down 10 → <b>Go for 2</b> (get to 8)</li>
      <li>Down 9 → <b>Go for 2</b> (get to 7)</li>
      <li>Down 5 → <b>Go for 2</b> (get to 3)</li>
      <li>Down 2 → <b>Go for 2</b> (tie)</li>
      <li>Up 1 → <b>Go for 2</b> (force FG just to tie)</li>
      <li>Up 5 → <b>Go for 2</b> (get to 7)</li>
      <li>Up 12 → <b>Go for 2</b> (get to 14)</li>
      <li>Up 14 → <b>Go for 2</b> (get to 16)</li>
    </ul>
  </details>
</div>

      </section>

      <section id="output" class="area-output"></section>

    </div>


  </main>

<script src="app.js" defer></script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js', { scope: './' });
}
</script>


</body>
</html>
