<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#005a9c" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="manifest" href="manifest.webmanifest" />
  <title>CCS Game Manager</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<main>
  <!-- App Bar -->
  <div class="appbar">
    <div class="brand">
      <div class="brand-mark">CC</div>
      <div>
        <div class="brand-text">CCS Game Manager</div>
        <div class="brand-sub">Fast. Simple. Sideline-ready.</div>
      </div>
    </div>
  </div>

  <!-- Opponent Settings -->
  <div class="card">
    <div class="row">
      <div class="subhead">Opponent</div>
      <div class="toggles color-pick">
        <label> Name
          <input id="oppName" type="text" placeholder="Opponent" />
        </label>
        <label> Color
          <input id="oppColor" type="color" value="#9a9a9a" />
        </label>
      </div>
    </div>

    <!-- Opening Kickoff -->
    <div class="row toggles compact kickoff-row">
      <label><input id="weReceivedKO" type="checkbox" /> We received the opening kickoff</label>
    </div>
    <div id="secondHalfInfo" class="muted tiny-info">2nd-half kickoff: —</div>
  </div>

  <!-- Scores + Clock -->
  <div class="grid2" style="margin-top:12px">
    <!-- Scores -->
    <section class="area-score">
      <div class="card">
        <div class="subhead">Scoreboard</div>

        <div class="score-grid">
          <!-- Our Team -->
          <div class="score-card">
            <div class="score-label" id="ourLabel">Charlotte Christian</div>
            <input id="ourScore" class="score-input" type="number" min="0" step="1" value="0" inputmode="numeric" />
            <div class="quick-row">
              <button class="chip" data-team="our" data-delta="2">+2</button>
              <button class="chip" data-team="our" data-delta="3">+3</button>
              <button class="chip" data-team="our" data-delta="6">+6</button>
              <button class="chip" data-team="our" data-delta="7">+7</button>
              <button class="chip" data-team="our" data-delta="8">+8</button>
            </div>
            <div class="timeouts-line">
              TOs left (this half): <span id="ourTOLeft">3</span>
            </div>
          </div>

          <!-- Opponent -->
          <div class="score-card">
            <div class="score-label" id="oppLabel">Opponent</div>
            <input id="oppScore" class="score-input" type="number" min="0" step="1" value="0" inputmode="numeric" />
            <div class="quick-row">
              <button class="chip opp" data-team="opp" data-delta="2">+2</button>
              <button class="chip opp" data-team="opp" data-delta="3">+3</button>
              <button class="chip opp" data-team="opp" data-delta="6">+6</button>
              <button class="chip opp" data-team="opp" data-delta="7">+7</button>
              <button class="chip opp" data-team="opp" data-delta="8">+8</button>
            </div>
            <div class="timeouts-line opp">
              TOs left (this half): <span id="oppTOLeft">3</span>
            </div>
          </div>
        </div>

        <!-- Banner -->
        <div id="banner"></div>
      </div>
    </section>

    <!-- Clock + TOs -->
    <section class="area-clock">
      <div class="card">
        <div class="subhead">Clock Helper</div>

        <!-- Half + Time -->
        <div class="time-row">
          <div>
            <div class="toggles">
              <label><input type="radio" name="half" id="half1" checked /> 1st Half</label>
              <label><input type="radio" name="half" id="half2" /> 2nd Half</label>
            </div>
            <div class="time-manual" style="margin-top:8px">
              <label style="flex:1"> Time (MM:SS)
                <input id="timeInput" type="text" placeholder="12:00" value="12:00" />
              </label>
            </div>
            <div class="tinyBtns">
              <button class="mini" data-delta="-30">−30s</button>
              <button class="mini" data-delta="-10">−10s</button>
              <button class="mini" data-delta="10">+10s</button>
              <button class="mini" data-delta="30">+30s</button>
            </div>
          </div>
        </div>

        <!-- Possession + Params -->
        <div class="row">
          <div class="toggles">
            <label><input id="ballUs" type="checkbox" /> We have the ball</label>
          </div>
          <div class="toggles">
            <label> Avg play time (s)
              <input id="ptime" type="number" min="0" step="1" value="6" />
            </label>
            <label> Clock run per play (s)
              <input id="pclk" type="number" min="0" step="1" value="30" />
            </label>
            <label> Planned snaps
              <input id="snaps" type="number" min="0" step="1" value="4" />
            </label>
          </div>
          <div id="clockResult" class="muted"></div>
        </div>

        <!-- One-tap TO -->
        <div class="row">
          <div class="toggles">
            <button id="useOurTO" class="btn">Use TO (Us)</button>
            <button id="useOppTO" class="btn">Use TO (Opp)</button>
          </div>
        </div>

        <!-- TO Cards -->
        <div class="grid2 to-grid">
          <!-- Our H1 -->
          <div class="to-card" data-key="our-h1">
            <div class="to-title">Our TO — 1st Half <span class="toggle-arrow">▸</span></div>
            <div class="to-content">
              <div class="to-checks">
                <label><input type="checkbox" checked /> TO 1</label>
                <label><input type="checkbox" checked /> TO 2</label>
                <label><input type="checkbox" checked /> TO 3</label>
              </div>
            </div>
          </div>
          <!-- Opp H1 -->
          <div class="to-card" data-key="opp-h1">
            <div class="to-title">Opp TO — 1st Half <span class="toggle-arrow">▸</span></div>
            <div class="to-content">
              <div class="to-checks">
                <label><input type="checkbox" checked /> TO 1</label>
                <label><input type="checkbox" checked /> TO 2</label>
                <label><input type="checkbox" checked /> TO 3</label>
              </div>
            </div>
          </div>
          <!-- Our H2 -->
          <div class="to-card" data-key="our-h2">
            <div class="to-title">Our TO — 2nd Half <span class="toggle-arrow">▸</span></div>
            <div class="to-content">
              <div class="to-checks">
                <label><input type="checkbox" checked /> TO 1</label>
                <label><input type="checkbox" checked /> TO 2</label>
                <label><input type="checkbox" checked /> TO 3</label>
              </div>
            </div>
          </div>
          <!-- Opp H2 -->
          <div class="to-card" data-key="opp-h2">
            <div class="to-title">Opp TO — 2nd Half <span class="toggle-arrow">▸</span></div>
            <div class="to-content">
              <div class="to-checks">
                <label><input type="checkbox" checked /> TO 1</label>
                <label><input type="checkbox" checked /> TO 2</label>
                <label><input type="checkbox" checked /> TO 3</label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Reset -->
      <div class="card" style="margin-top:12px">
        <button id="resetGame" class="btn btn-ghost">Reset Game</button>
      </div>
    </section>

    <!-- Output -->
    <section class="area-output" style="margin-top:12px">
      <div class="card">
        <div class="subhead">Scoring Options</div>
        <div class="toggles">
          <label><input type="radio" name="view" id="view-row" checked /> Row view</label>
          <label><input type="radio" name="view" id="view-table" /> Table view</label>
        </div>
        <div id="status" class="muted"></div>
        <div id="output" style="margin-top:8px"></div>
      </div>
    </section>
  </div>
</main>

<script src="app.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('./sw.js').catch(()=>{});
    });
  }
</script>
</body>
</html>
