/* --- Global Styles & Variables --- */
:root {
  --primary-color: #005a9c;
  --primary-hover: #00467a;
  --danger-color: #d32f2f;
  --success-color: #28a745;
  --background-color: #f0f2f5;
  --card-background: #ffffff;
  --text-color: #212529;
  --muted-color: #6c757d;
  --border-color: #dee2e6;
  --shadow: 0 2px 8px rgba(0,0,0,0.08);

  /* opponent color (set by JS) */
  --opp: #343a40;
  --opp-text: #ffffff;
}

body {
  font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  margin: 0;
  background: var(--background-color);
  color: var(--text-color);
}

main {
  padding: 16px;
  max-width: 1200px;
  margin: 0 auto;
}

/* --- App Header --- */
.appbar {
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: 16px;
}
.brand { display: flex; align-items: center; gap: 12px; }
.brand-mark {
  background: var(--primary-color); color: #fff; font-weight: 700;
  width: 40px; height: 40px; display: grid; place-items: center;
  border-radius: 8px; font-size: 1.2em;
}
.brand-title { font-weight: 600; }
.brand-sub { font-size: .9em; color: var(--muted-color); }

/* --- Layout --- */
.layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-areas: "score clock" "output output";
  gap: 16px;
}
.area-score { grid-area: score; }
.area-clock { grid-area: clock; }
.area-output { grid-area: output; }

/* --- Cards --- */
.card {
  background: var(--card-background);
  border-radius: 12px;
  padding: 20px;
  box-shadow: var(--shadow);
}
.section-title {
  margin: 0 0 20px;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 10px;
}
.subhead { font-weight: 600; margin: 24px 0 12px; }

/* --- Scoreboard --- */
.score-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 16px; text-align: center;
}
.score-card .score-label { font-weight: 500; margin-bottom: 8px; }
.score-input {
  font-size: 4em; font-weight: 700; text-align: center; width: 100%;
  border: 2px solid var(--border-color); border-radius: 8px; padding: 0;
  line-height: 1.2; box-sizing: border-box;
}

/* --- Banner --- */
#banner { text-align: center; padding: 12px; border-radius: 8px; margin-top: 20px; }
#banner .title { font-size: 1.4em; font-weight: 600; }
#banner .sub { font-size: 1em; margin-top: 4px; opacity: .8; }
#banner.good { background: #e7f5ff; color: var(--primary-color); }
#banner.bad { background: #ffebee; color: var(--danger-color); }
#banner.neutral { background: #f8f9fa; color: var(--muted-color); }

/* --- Clock & Helper --- */
#timeInput {
  font-size: 2.5em; font-weight: 700; text-align: center;
  border: 2px solid var(--border-color); border-radius: 8px; padding: 8px;
  width: 100%; box-sizing: border-box;
}
#timeInput.error {
  border-color: #d32f2f;
  box-shadow: 0 0 0 2px rgba(211,47,47,0.15);
}
#clockResult {
  font-size: 1.2em; font-style: italic; color: var(--primary-color);
  margin-top: 16px; text-align: center; background: #e7f5ff;
  padding: 10px; border-radius: 8px;
}
.score-input.error {
  border-color: #d32f2f;
  box-shadow: 0 0 0 2px rgba(211,47,47,0.15);
}

/* --- Forms & Buttons --- */
.row { margin-bottom: 12px; display: flex; align-items: center; gap: 10px; }
.row.compact { margin-bottom: 8px; }
.row label { flex-shrink: 0; }
.row input[type="text"],
.row input[type="number"],
.row input[type="tel"] {
  width: 100%; padding: 8px; border-radius: 6px; border: 1px solid var(--border-color);
}
.toggles { display: flex; flex-wrap: wrap; gap: 10px; }
.btn { padding: 10px 16px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: background-color .2s; }
.btn-primary { background: var(--primary-color); color: #fff; width: 100%; margin-top: 10px; }
.btn-primary:hover { background: var(--primary-hover); }
.btn-ghost { background: transparent; color: var(--danger-color); }
.btn:active { transform: scale(0.98); }

.chip {
  flex-grow: 1; padding: 8px 4px; background: #e9ecef;
  border: 1px solid var(--border-color); border-radius: 6px; cursor: pointer;
}
.chip.opp { background: var(--opp); color: var(--opp-text); }
.quick-row { display: flex; gap: 6px; margin-top: 8px; }

/* tiny time buttons */
.tinyBtns { display: flex; gap: 8px; }
.mini {
  padding: 6px 10px; border: 1px solid var(--border-color);
  border-radius: 6px; background: #fff; cursor: pointer;
}
.mini.opp { background: var(--opp); color: var(--opp-text); border-color: transparent; }

/* --- Timeouts --- */
.grid2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.to-card { background: #fafafa; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); }
.to-title {
  font-size: .9em; font-weight: 500;
  display: flex; justify-content: space-between; align-items: center;
  cursor: pointer; user-select: none;
}
.to-checks { display: flex; justify-content: space-around; }
.to-checks label { display: inline-block; width: 24px; height: 24px; }
.to-checks input { display: none; }
.to-checks span {
  display: block; width: 24px; height: 24px; border-radius: 50%;
  background: var(--danger-color); cursor: pointer; text-indent: -9999px;
}
.to-checks input:checked + span { background: var(--success-color); }
.toggle-arrow {
  border: solid var(--text-color); border-width: 0 2px 2px 0;
  display: inline-block; padding: 3px; transform: rotate(45deg);
  transition: transform .2s ease-in-out; background: none; width: 6px; height: 6px; cursor: pointer;
}
.to-card.collapsed .toggle-arrow { transform: rotate(-135deg); }
.to-card .to-content {
  overflow: hidden; transition: max-height .3s ease-out, padding-top .3s ease-out;
  max-height: 100px; padding-top: 8px;
}
.to-card.collapsed .to-content { max-height: 0; padding-top: 0; }

/* --- Output table --- */
.table { width: 100%; border-collapse: collapse; }
.table th, .table td {
  padding: 12px 10px; text-align: left; vertical-align: middle; border-bottom: 1px solid var(--border-color);
}
.table th {
  font-weight: 600; font-size: .9em; color: var(--muted-color); white-space: nowrap;
}
.table tr:last-child td { border-bottom: none; }
.score-options-cell { display: flex; flex-wrap: wrap; gap: 6px; align-items: center; }
.badge {
  display: inline-block; min-width: 24px; height: 24px; line-height: 24px;
  text-align: center; border-radius: 50%; background: var(--primary-color);
  color: #fff; font-weight: 600; font-size: .9em;
}
.segment {
  display: inline-block; background: #e9ecef; padding: 4px 10px; border-radius: 16px;
  font-size: .9em; font-weight: 500; border: 1px solid var(--border-color); white-space: nowrap;
}

/* --- Sticky officials (desktop/iPad) --- */
.sticky-officials { margin-top: 8px; }
@media (min-width: 900px) {
  .sticky-officials { position: sticky; top: 8px; z-index: 5; }
}

/* --- Opening KO & Officials --- */
.kickoff-row { margin-top: 8px; }
.tiny-info { font-size: .9em; color: var(--muted-color); margin: 4px 0 8px; }
.officials-display {
  background: #f8f9fa; border: 1px solid var(--border-color); border-radius: 8px;
  padding: 12px; display: grid; gap: 6px; margin-bottom: 8px;
}
.official-name { font-size: 1.25rem; font-weight: 700; line-height: 1.25; }
.w-30 { width: 30%; max-width: 200px; }

/* --- Accessibility & Inputs --- */
input:focus-visible, button:focus-visible { outline: 3px solid rgba(0,90,156,0.4); outline-offset: 2px; }
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; }

/* --- Responsive --- */
@media (max-width: 900px) {
  .layout {
    grid-template-columns: 1fr;
    grid-template-areas: "score" "clock" "output";
  }
}
@media (max-width: 480px) {
  main { padding: 8px; }
  .card { padding: 15px; }
  .score-input { font-size: 3.2em; }
  #timeInput { font-size: 2em; }
  .brand-text { display: none; }
  .official-name { font-size: 1.1rem; }
}
